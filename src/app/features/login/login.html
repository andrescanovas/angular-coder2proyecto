<form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
  <div>
    <label>Usuario:</label>
    <input formControlName="username" />
  </div>
  <div>
    <label>Clave:</label>
    <input type="password" formControlName="password" />
  </div>
  <button type="submit"
          [disabled]="loginForm.invalid || (loading$ | async)">
    {{ (loading$ | async) ? 'Cargandoâ€¦' : 'Login' }}
  </button>
</form>

<div *ngIf="error$ | async as err" style="color:red;">
  {{ err }}
</div>

<pre>Usuario logueado: {{ user$ | async | json }}</pre>